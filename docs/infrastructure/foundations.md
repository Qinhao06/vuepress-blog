# 架构

![img](https://s2.loli.net/2023/12/03/RKOZ5GJYjUE8oHt.png)

### 何为架构

抽象而言，架构就是对系统中的实体以及实体之间的关系所进行的抽象描述，是对物/信息的功能与形式元素之间的对应情况所做的分配，是对元素之间的关系以及元素同周边环境之间的关系所做的定义。架构能将目标系统按某个原则进行切分，切分的原则，是要便于不同的角色进行并行工作，结构良好的创造活动要优于毫无结构的创造活动。

核心价值在用户将核心业务逻辑和技术实现细节分离和解耦。首先是确定要实现什么功能，实现什么组件之类的。实现则是选取正确的技术栈来实现具体的功能。

不同的视角下有不同的架构，如

### 业务架构

核心是解决业务带来的系统复杂性，了解客户/业务方的痛点，项目定义，现有环境；梳理高阶需求和非功能性需求，进行问题域划分与领域建模等工作；沟通，方案建议，多次迭代，交付总体架构。

是对当前业务架构的梳理，针对不同的业务可以分解成不同的模块，不同的模块有什么不同的功能。比如京东的业务架构：

![img](https://s2.loli.net/2023/12/03/R36mBEYSp2Wijlc.jpg)

### 技术架构

根据业务场景的需要，设计应用的层次结构，制定应用规范、定义接口和数据交互协议等。并尽量将应用的复杂度控制在一个可以接受的水平，从而在快速的支撑业务发展的同时，在保证系统的可用性和可维护性的同时，确保应用满足非功能属性要求（性能、安全、稳定性等）。技术架构主要考虑系统的非功能性特征，对系统的高可用、高性能、扩展、安全、伸缩性、简洁等做系统级的把握。

以不同视角观看技术架构：

- 功能视角：

  ![img](https://s2.loli.net/2023/12/03/Tn2P1owSQGfXgB8.png)

- 技术视角：主要是分层模型，以及每层的技术选型等

  ![img](https://s2.loli.net/2023/12/03/PAVLkbFJXGqg8KM.png)

- 数据视角：从数据出发形成的架构

- 基础架构：运行的基础，比如运行在云上是如何运行的等

  ![img](https://s2.loli.net/2023/12/03/odJ5KGReZrmOnhE.jpg)

- 运维架构：从运维的视角来看架构

  ![img](https://s2.loli.net/2023/12/03/xivVMlmfJDrynwa.png)

- 物理架构：从现实世界的机器来看如何实现

  ![img](https://s2.loli.net/2023/12/03/qI6K28iB9oAMU71.png)

![img](https://s2.loli.net/2023/12/03/lxyw5N8As6VJSaR.png)

## 架构演化

单一服务器

![img](https://s2.loli.net/2023/12/03/fxHhoDYJTIv5Lb7.png)

多服务器➕缓存

![(https://s2.loli.net/2023/12/03/Ab9azNDRdP65Wtm.png)

![img](https://s2.loli.net/2023/12/03/TlHaxYXn6GFQs5d.png)

数据库主从分离

![(https://s2.loli.net/2023/12/03/Hgpe4zUPbFTLKhd.png)

![img](https://s2.loli.net/2023/12/03/qzgev35iLbKfAOS.png)

CDN +反向代理+分布式数据库

![img](https://s2.loli.net/2023/12/03/cMy6GqVo5OsrkPw.png)

公用的业务提取

![img](https://s2.loli.net/2023/12/03/JwcPKraY9UTE7AV.png)

